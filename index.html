<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="Description" content="An interactive map to aid cycle planning in Scotland">
  
  <!--  Social Media Tags -->
  <meta property="og:title" content="NPT Scotland">
  <meta property="og:description" content="An interactive map to aid cycle planning in Scotland">
  <meta property="og:image" content="/images/thumbnail.jpg">
  <meta property="twitter:image" content="https://atumscot.github.io/web/images/thumbnail.jpg">
  <meta property="og:url" content="https://atumscot.github.io/web">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:site_name" content="NPT Scotland">
  <meta name="twitter:image:alt" content="NPT Scotland thumbnail">
  
  <title>NPT Scotland</title>
  <!-- PWA support -->
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="/images/icon192.png">
  <meta name="apple-mobile-web-app-status-bar" content="#AC1A40">
  <meta name="theme-color" content="#AC1A40">
  <script src="/app.js" defer></script>
  
  <!-- Set Up CSS -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/map_legend.css">
  <link rel="stylesheet" href="css/modal.css">
  
  <!-- Third Party Scrips -->
  <script src="https://kit.fontawesome.com/1f7357bc14.js" crossorigin="anonymous" async></script>
  <link href="js/lib/noUiSlider_15_7_0/nouislider.min.css" rel="stylesheet">
  <script src="js/lib/noUiSlider_15_7_0/nouislider.min.js"></script>
  
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-XXXXXXXXX');
  </script>
  
  <!-- Set Up Icon -->
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  
</head>
<body style="overflow:hidden">

<!-- Menu -->
<div class="nav-wrapper">
	<div class="topnav" id="myTopnav">
		<div class="main-title">
		  	<a href="/">NPT Scotland</a>
		</div>
		   <a href="web/about" title="About">About</a>
		   <a href="web/data" title="Data">Data</a>
		   <a class="smaller" href="/privacy">Privacy &amp; accessibility</a>
		   <a href="javascript:void(0);" class="icon" onclick="expandtopnav()" aria-label="Expand Menu">
    <i class="fa fa-bars"></i>
  </a>
	</div>
		<div class="logo">
			<a href="https://atumscot.github.io/web" target="_blank" rel="noopener noreferrer"><img src="images/leeds_logo.png" alt="University of Leeds Logo" width="110" height="35.85"></a>
		</div>	
</div>

<!-- Overlay -->
 <div id="overlay"></div>

<!-- Welcome Splash -->
<div id="welcome" class="welcome">
<span id="closewelcome" class="closewelcome">&times;</span>
<div>
<h3>Welcome to NPT Scotland</h3>
<p>Network Planning Tool for strategic cycle network planning.</p>
<p><b>This site is in ALPHA and is not ready for public use.</b></p>
<p> This site and the data/results may be updated without warning during development. You may need to clear your browser cache to see the latest updates.</p>
<p>The current results are based only on the 2011 Census travel to work data. This introduces biases as commuting patterns have changed since the pandemic, and not everyone commutes. Future updates will add more trip purposes.</p>
<p>We are providing access to the in-development site and data for open and transparent research and to aid the councils that are undertaking their cycle network planning before the completion of this project.</p>
<p>Last Updated: 2023-02-16</p>
</div>
</div>

<!-- Set Up map -->
<script src="https://unpkg.com/maplibre-gl@3.0.0-pre.4/dist/maplibre-gl.js"></script>
<link href="https://unpkg.com/maplibre-gl@3.0.0-pre.4/dist/maplibre-gl.css" rel="stylesheet" />

<!-- Load the `maplibre-gl-geocoder` plugin. -->
<script src="https://unpkg.com/@maplibre/maplibre-gl-geocoder@1.2.0/dist/maplibre-gl-geocoder.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/@maplibre/maplibre-gl-geocoder@1.2.0/dist/maplibre-gl-geocoder.css" type="text/css"/>


<!-- Cookies Warning  -->
<div id='cookiewarning' class='cookiewarning'>
  <p>We use cookies to measure how you use our website so we can understand how you interact with it, which helps us to make improvements. <a href="/privacy">Find out more.</a></p>
  <p>
    <button onclick="cookiebutton(true)" class="button button1"><b>OK</b></button>
    <button onclick="cookiebutton(false)" class="button button2"><b>No</b></button>
  </p>
</div>
<script type="text/javascript" src="js/ga_optout.js"></script>

<!-- Main Content -->
<div class="content" style="overflow:hidden">
<div id="map"></div>
</div>

<!-- Floating Objects -->
<div id="rnetlegend" class="rnetlegend"></div>

<!-- Show Legend Button  -->
<div id="rnetshowlegend" class="rnetshowlegend">
  <button class="float_button" onclick="show_rnet_legend(true)" aria-label="Hide legend"><i class="fas fa-ellipsis-v"></i></button>
</div>

<!-- Show Layer Selection Panel  Button-->
<div id="showrightbox" class="showrightbox">
  <button class="float_button" onclick="showrighbox(true)" aria-label="Show layers"><i class="fa fa-bars"></i></button>
</div>

<!-- Layer Selection Panel -->
<div id="rightbox" class="rightbox">
  <button onclick="showrighbox(false)" style="float:right" aria-label="Hide layers"><i class="fas fa-times"></i></button>

<p>Select map layers</p>
<p><label><input type="checkbox" id="satellitecheckbox" value="true" onclick="toggleraster('satellite')" checked>Satellite </label></p>

<button class="accordion">Route Network</button>
<div class="panel">
  <p><label><input type="checkbox" id="rnetcheckbox" onclick="toggleLayer('rnet')" checked>Show Layer</label></p>
  <p>
    <select id="rnet_purpose_input" name="rnet_purpose_input" onchange="switch_rnet()" aria-label="Route network trip purpose">
      <option value="commute" selected>Commute</option>
    </select>
    Trip purpose <button onclick="show_help('purpose')" aria-label="Help purpsose" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  <p>
    <select id="rnet_type_input" name="rnet_type_input" onchange="switch_rnet()" aria-label="Route network trip purpose">
      <option value="balance">Balanced</option>
      <option value="fast"selected>Fastest</option>
    </select>
    Network type <button onclick="show_help('type')" aria-label="Help type" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  <p>
  <select id="rnet_scenario_input" name="rnet_scenario_input" onchange="switch_rnet()" aria-label="Route network scenario">
      <option value="none" >None</option>
      <option value="bicycle" >Baseline (2011)</option>
      <option value="bicycle_go_dutch">Go Dutch</option>
      <option value="Quietness" selected>Quietness</option>
      <option value="Gradient">Gradient</option>
  </select>
  Line colour <button onclick="show_help('scenario')" aria-label="Help scenario" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  <p>
  <select id="rnet_width_input" name="rnet_width_input" onchange="switch_rnet()" aria-label="Route network scenario">
      <option value="none" >None</option>
      <option value="bicycle" selected>Baseline (2011)</option>
      <option value="bicycle_go_dutch">Go Dutch</option>
      <option value="Quietness">Quietness</option>
      <option value="Gradient">Gradient</option>
  </select>
  Line width <button onclick="show_help('scenario')" aria-label="Help scenario" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  <p><b>Filters</b><button onclick="show_help('filters')" aria-label="Help scenario" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button></p>
  
  <p>Number of cyclists</p>
  <div id="slider-cycle" class="slider-styled" onchange="switch_rnet()"></div>
  <p>&nbsp</p>
  
  <p>Gradient</p>
  <div id="slider-gradient" class="slider-styled" onchange="switch_rnet()"></div>
  <p>&nbsp</p>
  
  <p>Quietness</p>
  <div id="slider-quietness" class="slider-styled" onchange="switch_rnet()"></div>
  <p>&nbsp</p>
  
  
</div>

<!---
<button class="accordion">Routes</button>
<div class="panel">
  <p><label><input type="checkbox" id="routescheckbox" value="false" onclick="toggleLayer('routes')">Show Layer</label></p>
  <select id="routes_input" name="routes_input" onchange="switch_routes()" aria-label="Routes layer">
      <option value="bicycle" selected>Basline (2011)</option>
      <option value="bicycle_go_dutch">Go Dutch</option>
  </select>
  
</div>
-->
<button class="accordion">Zones</button>
<div class="panel">
  <p><label><input type="checkbox" id="zonescheckbox" value="false" onclick="toggleLayer('zones')">Show Layer</label></p>

  <p>
    <select id="zones_end_input" name="zones_end_input" onchange="switch_zones()" aria-label="Zone end">
      <option value="orig" selected>Origins</option>
      <option value="dest">Destinations</option>
    </select>
    Trip end <button onclick="show_help('ends')" aria-label="Help purpsose" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  <p>
    <select id="zones_purpose_input" name="zones_purpose_input" onchange="switch_zones()" aria-label="Zone trip purpose">
      <option value="commute" selected>Commute</option>
    </select>
    Trip purpose <button onclick="show_help('purpose')" aria-label="Help purpsose" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  <p>
    <select id="zones_type_input" name="zones_type_input" onchange="switch_zones()" aria-label="Zone trip type">
      <option value="fastest"selected>Fastest</option>
    </select>
    Network type <button onclick="show_help('type')" aria-label="Help type" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  <p>
  <select id="zones_scenario_input" name="zones_scenario_input" onchange="switch_zones()" aria-label="Zone variable">
      <option value="pcycle_baseline" selected>Baseline (2011)</option>
      <option value="pcycle_godutch">Go Dutch</option>
      <option value="quietness_mean">Quietness</option>
      <option value="hilliness_mean">Gradient</option>
  </select>
  Variable <button onclick="show_help('scenario')" aria-label="Help scenario" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  
  
  
</div>

<button class="accordion">Data Zones</button>
<div class="panel">
  <p><label><input type="checkbox" id="data_zonescheckbox" value="false" onclick="toggleLayer('data_zones')">Show Layer</label></p>

  <p>
    <select id="data_zone_input" name="data_zone_input" onchange="switch_data_zones()" aria-label="Data zone layer">
      <option value="Total_population" selected>Population (2020)</option>
      <option value="SIMD2020v2_Decile">Index of Muliple Deprivation (2020)</option>
      <option value="drive_petrol">Drive time to petrol station</option>
      <option value="drive_GP">Drive time to GP</option>
      <option value="drive_post">Drive time to post office</option>
      <option value="drive_retail">Drive time to retail centre</option>
      <option value="drive_primary">Drive time to primary school</option>
      <option value="drive_secondary">Drive time to secondary school</option>
      <option value="PT_GP">Public transport time to GP</option>
      <option value="PT_post">Public transport time to post office</option>
      <option value="PT_retail">Public transport time to retail centre</option>
      <option value="broadband">% without superfast broadband</option>
    </select>
    <button onclick="show_help('SIMD')" aria-label="Help purpsose" class="helpbutton"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
  </p>
  
  
</div>

<button class="accordion">Administrative Boundaries</button>
<div class="panel">
  <p><label><input type="checkbox" id="lacheckbox" value="false" onclick="toggleLayer('la')">Local Authority</label></p>

  <p><label><input type="checkbox" id="westminstercheckbox" value="false" onclick="toggleLayer('westminster')">Westminster Constituencies</label></p>

  <p><label><input type="checkbox" id="holyroodcheckbox" value="false" onclick="toggleLayer('holyrood')">Scottish Parliment Constituencies</label></p>

  <p><label><input type="checkbox" id="wardscheckbox" value="false" onclick="toggleLayer('wards')">Wards</label></p>
</div>


</div>

<!-- Help Box -->
<div id="help" class="help">
<span id="closehelp" class="closehelp">&times;</span>
<div id="helpcontent">
  <p>This is the help box</p>
</div>
</div>


<!-- The Modal -->
<div id="zone_modal" class="modal">

<!-- Modal content -->
<div class="modal-content">
<div class="modal-header">
    <span class="closemodal">&times;</span>
    <div id="modal-title"><h2>Area Summary</h2></div>
</div>
<div class="modal-body">

  <p>Summary of people commuting into/outof this zone</p>
  <div style="min-height:300px">
      <div class="chart-container" style="height:400px">
    			<canvas id="mode_commute_chart"></canvas>
    	</div>
  </div>

</div>
<div class="modal-footer">
</div>
</div>


</div>


<script type="text/javascript" src="js/welcome.js"></script>
<script type="text/javascript" src="js/accordion.js"></script>
<script type="text/javascript" src="js/layer_control.js"></script>
<script type="text/javascript" src="js/map.js"></script>
<script type="text/javascript" src="js/map_later.js" async></script>
<script type="text/javascript" src="js/ga_optout.js" async></script>
<script type="text/javascript" src="js/help.js" async></script>
<script type="text/javascript" src="js/popup.js" async></script>
<script type="text/javascript" src="js/modal.js" async></script>
<script type="text/javascript" src="js/sliders.js" async></script>


<script id="jquery" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" async></script>
<script type="text/javascript" src="js/get_json.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.0" async></script>

</body>
</html>
